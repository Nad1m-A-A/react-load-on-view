"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function t(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}var n=r(e);function a(r,n){const[a,i]=e.useState({}),[s,o]=e.useState(""),[u,c]=e.useState(!1),[l,f]=e.useState(!1),d=n&&Array.isArray(r)&&r.length>0&&!l;return e.useEffect((()=>{if(!d)return;let e=!0;return(async()=>{let n;c(!0),o("");try{n=await async function(e){return Promise.all(e.map((async e=>{if(function(e){return/\.(jpg|jpeg|png|gif|webp|svg)$/i.test(e)}(e))return{src:e};try{const n=await(r=e,Promise.resolve().then((function(){return t(require(r))})));return n.default||n}catch(e){throw e}var r})))}(r)}catch(r){e&&function(e,r,t){e(t.message||"Failed to load data"),r({})}(o,i,r)}finally{e&&c(!1)}e&&n&&(!function(e,r){e.every((e=>e?.src))?r({images:e}):r(function(e){return e.reduce(((e,r)=>(r?.src?(e.images=e.images||[],e.images.push(r)):e={...e,...r},e)),{})}(e))}(n,i),f(!0))})(),()=>{e=!1}}),[r,n,l]),{data:a,error:s,loading:u}}function i({rootMargin:r="0px",threshold:t=0,triggerOnce:n=!0,root:a=null}={}){const[i,s]=e.useState(!1),[o,u]=e.useState(null),c=e.useRef(null);return e.useEffect((()=>{let e=!0;const i=new IntersectionObserver((([r])=>{e&&(u(r),s(r.isIntersecting),r.isIntersecting&&n&&i.disconnect())}),{root:a,rootMargin:r,threshold:t}),o=c.current;return o&&i.observe(o),()=>{e=!1,o&&i.unobserve(o),i.disconnect()}}),[r,t,n,a]),{ref:c,inView:i}}exports.useElementObserver=i,exports.useLazyLoadAssets=a,exports.withViewObserver=function(e,{animate:r=!1,afterWrapperIsVisibleClass:t="visible_wrapper",initialWrapperClass:s=(r?"invisible_wrapper":""),rootMargin:o="0px",threshold:u=0,root:c=null,triggerOnce:l=!0,lazyLoad:f=!1,paths:d=[]}={}){return function(g){const{ref:p,inView:b}=i({rootMargin:o,threshold:u,root:c,triggerOnce:l}),{data:h,error:v,loading:y}=f?a(d,b):{data:{},error:"",loading:!1},m=f?{...g,data:h,error:v,loading:y}:g,O=r&&b?g.special_animation||t:s;return n.default.createElement("div",{ref:p,className:O},n.default.createElement(e,m))}};
